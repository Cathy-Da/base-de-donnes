id_texte,titre,texte_contenu
5,Википедия:Формулы,"Для математических формул MediaWiki использует разметку ΤΕΧ’а. В зависимости от пользовательских настроек они могут отображаться как PNG-рисунки, в MathJax-разметке или иным способом.
В данной статье даны лишь первоначальные сведения о разметке математических формул в ΤΕΧ. Примеры написания конкретных формул приводятся в статье «Примеры оформления формул». Список поддерживаемых конструкций (с английскими пояснениями) также дан на странице m:Help:Displaying a formula.
Правильность написания формул проверяйте в «песочнице» или кнопкой «Предварительный просмотр», находящейся под окном редактирования.

Исходный код математической формулы записывается внутри тегов <math>...</math>, химической — <chem>...</chem>.
Шаблоны, переменные и параметры MediaWiki не функционируют внутри этого тега.
Пробелы игнорируются (ТеХ их сделает сам).
Пустые строки не разрешаются.
Символы и сложные конструкции записываются с помощью «команд», которые начинаются с «обратного слеша» (\) и состоят либо из командного слова из латинских букв, либо из символа (не буквы). В первом случае после командного слова должен быть обязательно пробел или другая команда.
Команды могут иметь аргументы: {обязательные} и [необязательные].
Каждая буква считается переменной и воспроизводится курсивом, а цифры — прямым шрифтом (исключение — название функций и операций).
Одиночные переводы строк внутри тегов <math>...</math> разрешены и не отображаются, поэтому, чтобы сделать код более читабельным, можно вставлять переводы строк после каждого выражения или строки матрицы.

Формула может быть вынесена на отдельную строку, в этом случае её следует давать с отступом (начав строчку с двоеточия «:»). Центрирование формул в Википедии, как правило, не используется. Если формула является частью списка, то нужно давать отступ на один уровень больше, чем предшествующий текст:

Формула 1:

  
    
      
        
          x
          
            2
          
        
        +
        
          y
          
            2
          
        
        =
        
          z
          
            2
          
        
      
    
    {\displaystyle x^{2}+y^{2}=z^{2}}
  
.
Формула 2:

  
    
      
        x
        y
        =
        z
      
    
    {\displaystyle xy=z}
  
.
Знаки препинания, следующие за формулой, внутрь тега <math></math> включать не требуется.
Нумерацию формул в связи с динамичностью текстов статей использовать не рекомендуется.


=== Служебные значки ===
\ сигнальный символ (команда);
{ начало группы;
} конец группы;
_ нижний индекс;
^ верхний индекс;
~ неразрывный пробел.


=== Шрифты ===

С помощью соответствующих команд можно изменять вид шрифта (гарнитуру) и его размеры:

Для текстовых индексов и пометок лучше всего использовать команду \text, поскольку она предназначена именно для этого и правильно обрабатывает дефисы, пробелы и размер букв: \varepsilon_\text{h-BN} даёт 
  
    
      
        
          ε
          
            h-BN
          
        
      
    
    {\displaystyle \varepsilon _{\text{h-BN}}}
  
, (10\text{ мм})^2 = 100\text{ мм}^2 = 1\text{ см}^2 даёт 
  
    
      
        (
        10
        
           мм
        
        
          )
          
            2
          
        
        =
        100
        
          
             мм
          
          
            2
          
        
        =
        1
        
          
             см
          
          
            2
          
        
      
    
    {\displaystyle (10{\text{ мм}})^{2}=100{\text{ мм}}^{2}=1{\text{ см}}^{2}}
  
. Для нестандартных операторов следует использовать \operatorname (см. ниже), а \mathrm оставить для специальных случаев — например, нестандартных операторов, которым нужно нестандартное окружение пробелами.
Команды \textrm и \mbox также производят прямой шрифт, однако вместо них лучше использовать \text или \operatorname.
Также имеются символы устаревших греческих букв \Coppa \coppa \Koppa \koppa \Stigma \stigma, которые отображаются не при всех настройках отображения формул (то же относится к символам \S \P), а использование символов \varcoppa \Sampi \sampi \Digamma \varstigma даже может вызвать сообщение об ошибке, как использование любой несуществующей команды.


=== Бинарные операции ===


==== Умножение ====

Не используйте символ * для обозначения умножения за исключением случаев, когда умножение используется в коде программ.
Знак умножения в формулах, как правило, опускается 
  
    
      
        (
        E
        =
        m
        
          c
          
            2
          
        
        )
      
    
    {\displaystyle (E=mc^{2})}
  
.
Если знак опущен быть не может (как в 
  
    
      
        2
        ⋅
        2
      
    
    {\displaystyle 2\cdot 2}
  
), используйте \cdot в математическом режиме или символ ⋅ (U+22C5 dot operator, &sdot; не путать с похожим символом &middot;).
Знак 
  
    
      
        ×
      
    
    {\displaystyle \times }
  
 в русской типографике, как правило, не используется для обозначения обычного умножения, а имеет специальное значение (например, векторное произведение), поэтому использование этого знака для умножения нежелательно, за исключением традиционного для русской типографики использования при разрыве формулы на знаке умножения с переносом на другую строку.


=== Символы отношений ===

В русскоязычной типографике существует традиция употреблять в качестве символов «больше или равно» и «меньше или равно» знаки «
  
    
      
        ⩾
      
    
    {\displaystyle \geqslant }
  
» и «
  
    
      
        ⩽
      
    
    {\displaystyle \leqslant }
  
», а в западной — «
  
    
      
        ≥
      
    
    {\displaystyle \geq }
  
» и «
  
    
      
        ≤
      
    
    {\displaystyle \leq }
  
».


=== Символы отрицания отношений ===
Символ отрицания отношения можно получить, ставя перед соответствующим символом отношения команду \not, которая перечёркивает следующий за ней ТеХ’овский символ. Например:

Однако для наиболее часто используемых символов отрицания отношений («не равно», «не принадлежит» и т. п.) существуют и отдельные команды.

Также можно перечеркнуть набор символов, используя команду \cancel{abc}(
  
    
      
        
          
            a
            b
            c
          
        
      
    
    {\displaystyle {\cancel {abc}}}
  
), \bcancel{abc}(
  
    
      
        
          
            a
            b
            c
          
        
      
    
    {\displaystyle {\bcancel {abc}}}
  
) или \xcancel{abc}(
  
    
      
        
          
            a
            b
            c
          
        
      
    
    {\displaystyle {\xcancel {abc}}}
  
).


=== Символы математических функций ===
Символы стандартных математических функций и операторов (sin, max и т. п.) в формулах должны отображаться прямым шрифтом с отступами слева и справа, поэтому для них необходимо использовать соответствующие команды TeX (\sin вместо sin и т. д.):

При этом обратите внимание, что в русской традиции многие тригонометрические и гиперболические функции обозначаются иначе, чем в западной (указанной в таблице выше). В русской Википедии используйте:

Примечание. Чтобы сделать стандартный отступ между именем функции и аргументом, нужно использовать конструкцию «\operatorname{имя функции}». Например, код «\operatorname{arctg} x» даёт 
  
    
      
        arctg
        ⁡
        x
      
    
    {\displaystyle \operatorname {arctg} x}
  
 (для сравнения: код «\mathrm{arctg} x» — 
  
    
      
        
          a
          r
          c
          t
          g
        
        x
      
    
    {\displaystyle \mathrm {arctg} x}
  
); использовать «\mathrm{имя функции}\,» и подобные конструкции также не рекомендуется — сравните:


=== Стрелки ===

См. также Википедия:Примеры оформления формул #Скобки для больших выражений.

Десятичную запятую в десятичных дробях рекомендуется заключать в фигурные скобки, чтобы избежать ненужного тонкого пробела после запятой. Сравните:

При записи определения множества рекомендуется употреблять не знак вертикальной черты, а команду \mid, чтобы пробелы имели достаточную величину. Сравните:

Для обозначения матричных элементов (нотация бра и кет), наоборот, лучше использовать знак вертикальной черты | или команду \vert. Кроме того,  не следует использовать знаки «больше» и «меньше» вместо угловых скобок (при записи матричных элементов, статистических средних и т. д.) — нужно использовать \langle и \rangle. Сравните:

При записи нормы рекомендуется использовать не двойные вертикальные скобки, а команду \|. Сравните:

При записи отображений рекомендуется использовать не знак двоеточия, а команду \colon, чтобы избежать ненужного пробела перед двоеточием. Сравните:

С помощью тегов <chem>...</chem> можно записывать химические формулы, используя синтаксис, похожий на синтаксис ΤΕΧ-овского пакета mhchem (следует учитывать, что некоторые возможности пакета могут не поддерживаться в ВП). При записи химических формул и соединений конструкция <chem>...</chem> более наглядная и короткая.
При этом внутри вики-тега <chem>...</chem> нужно писать то, что в ΤΕΧ-документе нужно было бы писать внутри ΤΕΧ-тега \ce{...}. В этом теге действуют совсем другие правила, нежели в обычных, математических формулах: пробелы имеют в большинстве случаев значение, скобки не всегда необходимы.
Примеры:

<chem>CO2 + C -> 2 CO</chem> → 
  
    
      
        
          
            CO
            
              2
            
            
              
            
          
          +
          C
          ⟶
          2
          
          CO
        
      
    
    {\displaystyle {\ce {CO2 + C -> 2 CO}}}
  

<chem>SO4^2- + Ba^2+ -> BaSO4 v</chem> → 
  
    
      
        
          
            SO
            
              4
            
            
              2
              −
            
          
          +
          
            Ba
            
              2
              +
            
          
          ⟶
          
            BaSO
            
              4
            
            
              
            
          
          
            ↓
          
        
      
    
    {\displaystyle {\ce {SO4^2- + Ba^2+ -> BaSO4 v}}}
  

<chem>Ag+ + NO3- + K+ + Cl- -> AgCl v + K+ + NO3-</chem> → 
  
    
      
        
          
            Ag
            
              +
            
          
          +
          
            NO
            
              3
            
            
              −
            
          
          +
          
            K
            
              +
            
          
          +
          
            Cl
            
              −
            
          
          ⟶
          AgCl
          
            ↓
          
          +
          
            K
            
              +
            
          
          +
          
            NO
            
              3
            
            
              −
            
          
        
      
    
    {\displaystyle {\ce {Ag+ + NO3- + K+ + Cl- -> AgCl v + K+ + NO3-}}}
  

<chem>{Na2CO3} + 2HCl -> CO2 ^ + 2NaCl + H2O</chem> → 
  
    
      
        
          
            
              Na
              
                2
              
              
                
              
            
            
              CO
              
                3
              
              
                
              
            
          
          +
          2
          
          HCl
          ⟶
          
            CO
            
              2
            
            
              
            
          
          
            ↑
          
          +
          2
          
          NaCl
          +
          
            H
            
              2
            
            
              
            
          
          O
        
      
    
    {\displaystyle {\ce {{Na2CO3}+ 2HCl -> CO2 ^ + 2NaCl + H2O}}}
  

<chem>(NH4)2S</chem> → 
  
    
      
        
          
            
              (
              
                NH
                
                  4
                
                
                  
                
              
              )
            
            
              2
            
            
              
            
          
          S
        
      
    
    {\displaystyle {\ce {(NH4)2S}}}
  

<chem>[AgCl2]-</chem> → 
  
    
      
        
          
            
              [
              
                AgCl
                
                  2
                
                
                  
                
              
              ]
            
            
              −
            
          
        
      
    
    {\displaystyle {\ce {[AgCl2]-}}}
  

<chem>H2C=CH2</chem> → 
  
    
      
        
          
            H
            
              2
            
            
              
            
          
          C
          
            =
          
          
            CH
            
              2
            
            
              
            
          
        
      
    
    {\displaystyle {\ce {H2C=CH2}}}
  

<math chem>\ce{(-CH2-)}_n</math> → 
  
    
      
        
          
            
              (
              
                −
              
              
                CH
                
                  2
                
                
                  
                
              
              
                −
              
              )
            
          
          
            n
          
        
      
    
    {\displaystyle {\ce {(-CH2-)}}_{n}}
  

<chem>HC#CH</chem> → 
  
    
      
        
          HC
          
            ≡
          
          CH
        
      
    
    {\displaystyle {\ce {HC#CH}}}
  

<chem>H3C-COOH</chem> → 
  
    
      
        
          
            H
            
              3
            
            
              
            
          
          C
          
            −
          
          COOH
        
      
    
    {\displaystyle {\ce {H3C-COOH}}}
  

<chem>MgSO4.7H2O</chem> → 
  
    
      
        
          
            MgSO
            
              4
            
            
              
            
          
          ⋅
          7
          
          
            H
            
              2
            
            
              
            
          
          O
        
      
    
    {\displaystyle {\ce {MgSO4.7H2O}}}
  

<chem>H2 <=> 2H</chem> → 
  
    
      
        
          
            H
            
              2
            
            
              
            
          
          
            
              
                
                  
                    
                      ↽
                    
                    
                    
                    
                      −
                    
                  
                
              
              
                
                  
                    
                      −
                    
                    
                    
                    
                      ⇀
                    
                  
                
              
            
          
          2
          
          H
        
      
    
    {\displaystyle {\ce {H2 <=> 2H}}}
  

<chem>A{} + B ->[300~^\circ\text{C}][-\ce{H2O}] C</chem> → 
  
    
      
        
          A
          

          
          +
          B
          
            
              →
              
                −
                
                  
                    H
                    
                      2
                    
                    
                      
                    
                  
                  O
                
              
              
                300
                
                   
                  
                    ∘
                  
                
                
                  C
                
              
            
          
          C
        
      
    
    {\displaystyle {\ce {A{}+B->[300~^{\circ }{\text{C}}][-{\ce {H2O}}]C}}}
  

Если в формуле используются стрелки вверх или вниз, то приведённая конструкция может неправильно работать, например:

<chem>A{} + B ->[300~^\circ\text{C}][-\ce{H2O}] C v</chem> → 
  
    
      
        
          A
          

          
          +
          B
          
            
              →
              
                −
                
                  
                    H
                    
                      2
                    
                    
                      
                    
                  
                  O
                
              
              
                300
                
                   
                  
                    ∘
                  
                
                
                  C
                
              
            
          
          Cv
        
      
    
    {\displaystyle {\ce {A{}+B->[300~^{\circ }{\text{C}}][-{\ce {H2O}}]Cv}}}
  

В этом случае нужно применять другую:

<chem>A{} + B ->[300\ ^{\ce{o}}\ce{C}][-\ce{H2O}] C v</chem> → 
  
    
      
        
          A
          

          
          +
          B
          
            
              →
              
                −
                
                  
                    H
                    
                      2
                    
                    
                      
                    
                  
                  O
                
              
              
                300
                
                   
                  
                    
                      o
                    
                  
                
                
                  C
                
              
            
          
          C
          
            ↓
          
        
      
    
    {\displaystyle {\ce {A{}+ B ->[300\ ^{{\ce {o}}}{\ce {C}}][-{\ce {H2O}}] C v}}}
  

<chem>(CH3)2CH-CH2-Cl{} + \underset{\text{водный}\  \text{раствор}}{NaOH} -> (CH3)2CH-CH2-OH{} + NaCl</chem> → 
  
    
      
        
          
            
              (
              
                CH
                
                  3
                
                
                  
                
              
              )
            
            
              2
            
            
              
            
          
          CH
          
            −
          
          
            CH
            
              2
            
            
              
            
          
          
            −
          
          Cl
          

          
          +
          
            
              NaOH
              
                
                  водный
                
                 
                
                  раствор
                
              
            
          
          ⟶
          
            
              (
              
                CH
                
                  3
                
                
                  
                
              
              )
            
            
              2
            
            
              
            
          
          CH
          
            −
          
          
            CH
            
              2
            
            
              
            
          
          
            −
          
          OH
          

          
          +
          NaCl
        
      
    
    {\displaystyle {\ce {(CH3)2CH-CH2-Cl{}+{\underset {{\text{водный}}\ {\text{раствор}}}{NaOH}}->(CH3)2CH-CH2-OH{}+NaCl}}}
  

<chem>\beta{-}Al2O3</chem> → 
  
    
      
        
          β
          
            
              −
            
          
          
            Al
            
              2
            
            
              
            
          
          
            O
            
              3
            
            
              
            
          
        
      
    
    {\displaystyle {\ce {\beta{-}Al2O3}}}
  

Для корректного отображения в химической формуле математических переменных (x, n, t и т.п.) можно использовать ΤΕΧ-тег \mathit{...}, например:  

<chem>(CF2)_\mathit{n}</chem> → 
  
    
      
        
          
            
              (
              
                CF
                
                  2
                
                
                  
                
              
              )
            
            
              
                n
              
            
            
              
            
          
        
      
    
    {\displaystyle {\ce {(CF2)_{\mathit {n}}}}}
  

<chem>{C_\mathit{x}H_\mathit{y}} + \mathit{z}O2 -> {\mathit{x}CO2} + \frac{\mathit{y}}{2}H2O</chem> → 
  
    
      
        
          
            
              C
              
                
                  x
                
              
              
                
              
            
            
              H
              
                
                  y
                
              
              
                
              
            
          
          +
          
            
              z
            
          
          
            O
            
              2
            
            
              
            
          
          ⟶
          
            
              
                x
              
            
            
              CO
              
                2
              
              
                
              
            
          
          +
          
            
              
                y
              
              
                2
                
              
            
          
          
            H
            
              2
            
            
              
            
          
          O
        
      
    
    {\displaystyle {\ce {{C_{\mathit {x}}H_{\mathit {y}}}+{\mathit {z}}O2->{{\mathit {x}}CO2}+{\frac {\mathit {y}}{2}}H2O}}}
  

Конструкция <chem>...</chem> эквивалентна <math chem>\ce{...}</math>. Последняя конструкция более длинная, менее ясная и потому менее удобная, но теоретически её можно использовать, чтобы смешать возможности обоих типов формул — например, поместить химические формулы в окружение align.

Русские буквы (и вообще, символы, не входящие в US-ASCII) в формулы можно вставить с помощью \text{}:
<math>F_\text{Трения}</math> даёт 
  
    
      
        
          F
          
            Трения
          
        
      
    
    {\displaystyle F_{\text{Трения}}}
  
.

Цветные символы можно вставить в формулу следующим образом:

{ \color{red} x } 
  
    
      
        
          
            x
          
        
      
    
    {\displaystyle {\color {red}x}}
  

{\color{Blue}x^2}+{\color{YellowOrange}2x}- {\color{OliveGreen}1} 
  
    
      
        
          
            
              x
              
                2
              
            
          
        
        +
        
          
            2
            x
          
        
        −
        
          
            1
          
        
      
    
    {\displaystyle {\color {Blue}x^{2}}+{\color {YellowOrange}2x}-{\color {OliveGreen}1}}
  

x_{1,2}=\frac{-b\pm\sqrt{\color{Red}b^2-4ac}}{2a} 
  
    
      
        
          x
          
            1
            ,
            2
          
        
        =
        
          
            
              −
              b
              ±
              
                
                  
                    
                      b
                      
                        2
                      
                    
                    −
                    4
                    a
                    c
                  
                
              
            
            
              2
              a
            
          
        
      
    
    {\displaystyle x_{1,2}={\frac {-b\pm {\sqrt {\color {Red}b^{2}-4ac}}}{2a}}}
  

math в заголовках разделов отображается ошибкой phab:T295091. Помогает замена на символы Юникода — таблица математических символов.
переносы отрывают символы после math phab:T325625. Из-за этого запятую, скобку и т.д. заносили внутрь math. Локальный фикс special:diff/138085233 — поведение отображения и подход к оформлению кода math может отличаться в других вики (напр. при копировании между вики)

Википедия:Примеры оформления формул
Помощь: Формулы на Metawiki
Википедия:Специальные символы
Знак процента
Категория:Страницы с ошибками в формулах
mw:Parsoid/Language conversion/Preprocessor fixups В химических формулах требует внимания скобка с чертой, которые необходимо записывать так -<nowiki/>{
Музыкальная нотация в вики-разметке // Викитека

Львовский С. М. Набор и вёрстка в системе LAΤΕΧ. — 3-е издание, испр. и доп. — М. : МЦНМО, 2003.
LaTeX в Викиучебнике"
